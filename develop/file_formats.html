<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>WiredTiger: File formats</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="wiredtiger.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo">
    <div class="logo"><a href="http://wiredtiger.com/"><img src="LogoFinal-header.png" alt="WiredTiger" /></a></div>
  </td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Version 1.2.3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>
<div class="banner">
  <a href="https://github.com/wiredtiger/wiredtiger">Fork me on GitHub</a>
  <a class="last" href="http://groups.google.com/group/wiredtiger-users">Join my user group</a>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="license.html"><span>License</span></a></li>
      <li><a href="https://github.com/wiredtiger/wiredtiger/downloads/"><span>Download</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('file_formats.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">File formats </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="formats"></a>
File formats</h2>
<p>WiredTiger supports two underlying file formats: row-store and column-store. WiredTiger row- and column-stores are both key/value stores.</p>
<p>In a row-store, both keys and data are variable-length byte strings. In a column-store, the key is a 64-bit record number, and the data item is either a variable- or fixed-length byte string.</p>
<p>Generally, row-stores are faster for queries where a set of columns are required by every lookup (because there's only a single set of meta-data pages to go through, or read into the cache). Column-stores are faster for queries where only a few of the columns are required for any lookup (because only the columns being returned are present in the cache).</p>
<p>Row-stores support three types of compression: prefix compression (where any identical portion of each key byte string is only stored once), Huffman encoding of individual key/value items, (see <a class="el" href="huffman.html">Huffman Encoding</a> for details), and stream compression of the blocks in the file (see <a class="el" href="compression.html">Compressors</a> for details).</p>
<p>Unlike some row-stores, WiredTiger does not support duplicate data items, that is, for any single key, there can be only a single value, and applications are responsible for creating unique key/value pairs.</p>
<p>Column-stores with variable-length byte string values support three types of compression: run-length encoding (where duplicate values are only stored a single time), Huffman encoding of individual value items, (see <a class="el" href="huffman.html">Huffman Encoding</a> for details), and stream compression of the blocks in the file (see <a class="el" href="compression.html">Compressors</a> for details).</p>
<p>Column-stores with fixed-length byte values support a single type of compression: stream compression of the blocks in the file (see <a class="el" href="compression.html">Compressors</a> for details).</p>
<p>In row-stores, keys and values too large to fit on a normal page are stored as overflow items in the file. In variable-length column-stores, values too large to fit on a normal page are stored as overflow items in the file.</p>
<p>WiredTiger allocates space from the underlying files in block units. The minimum file allocation unit WiredTiger supports is 512B and the maximum file allocation unit is 512MB. File block offsets are 64-bit (meaning the maximum file size is very, very large).</p>
<p>Variable-length column-store values, and row-store keys and values, can be up to (4GB - 512B) in length.</p>
<p>Fixed-length values are limited to 8-bits (that is, only values between 0 and 255 may be stored in fixed-length column-store files). </p>
</div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">Reference Guide</a>      </li>
      <li class="navelem"><a class="el" href="programming.html">Writing WiredTiger applications</a>      </li>

    <li class="footer">Copyright (c) 2008-2012 WiredTiger, Inc.  All rights reserved.  Contact <a href="mailto:info@wiredtiger.com">info@wiredtiger.com</a> for more information.</li>
   </ul>
 </div>


</body>
</html>
